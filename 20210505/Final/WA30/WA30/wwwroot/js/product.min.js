function appendProduct(n){document.getElementById("list").innerHTML+=`<td>${n.productName}</td>
            <td>${n.quantityPerUnit}</td>
            <td>${n.unitPrice}</td>
            <td>${n.unitsInStock}</td>
            <td>${n.category.categoryName}</td>
            <td>${n.supplier.companyName}</td>`}function appendCategory(n){document.getElementById("list").innerHTML+=`<tr><td colspan='6'><h4>${n}</h4></td></tr>`}document.addEventListener("DOMContentLoaded",()=>{console.log("Document ready!");const n=document.getElementById("filter"),t=document.getElementById("bSearch");t.addEventListener("click",t=>{t.preventDefault();let i=new ProductService;list.innerHTML="";i.getProducts().then(t=>{var i,r,u;let f=_.filter(t,function(t){return t.productName.toLowerCase().indexOf(n.value.toLowerCase())!==-1});i=_.groupBy(f,"categoryID");console.log(i);for(r in i)u=i[r],console.log(i[r][0].category.categoryName),appendCategory(i[r][0].category.categoryName),u.forEach(function(n){console.log(n);appendProduct(n)})}).catch(n=>{console.log(`Error: ${n}`)})})});class ProductService{getProducts(){return fetch("js/index.json").then(n=>(n.status!==200&&console.log("http not 200"),n.json()))}}